<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeadCalc - Mead Calculator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üçØ MeadCalc</h1>
            <p>Calculate ABV, Specific Gravity, and Sweetener Amounts for Mead Making</p>
        </header>

        <!-- Unit Selection -->
        <div class="unit-selector">
            <h3>Units:</h3>
            <div class="unit-options">
                <label class="unit-option">
                    <input type="radio" name="weight-units" value="imperial" checked onclick="updateWeightUnits()">
                    <span>Imperial (lbs/oz)</span>
                </label>
                <label class="unit-option">
                    <input type="radio" name="weight-units" value="metric" onclick="updateWeightUnits()">
                    <span>Metric (kg/g)</span>
                </label>
            </div>
            <div class="unit-options">
                <label class="unit-option">
                    <input type="radio" name="volume-units" value="imperial" checked onclick="updateVolumeUnits()">
                    <span>Gallons</span>
                </label>
                <label class="unit-option">
                    <input type="radio" name="volume-units" value="metric" onclick="updateVolumeUnits()">
                    <span>Liters</span>
                </label>
            </div>
        </div>

        <!-- ABV Calculator - Horizontal Layout -->
        <div class="abv-section">
            <div class="calc-section abv-horizontal">
                <h2>ABV Calculator</h2>
                <div class="abv-inputs-row">
                    <div class="input-group">
                        <label for="og">Original Gravity (OG):</label>
                        <input type="number" id="og" step="0.001" min="1.000" max="1.200" placeholder="1.090">
                    </div>
                    <div class="input-group">
                        <label for="fg">Final Gravity (FG):</label>
                        <input type="number" id="fg" step="0.001" min="0.990" max="1.050" placeholder="1.000">
                    </div>
                    <div class="result" id="abv-result"></div>
                </div>
            </div>
        </div>

        <div class="calculator-grid">
            <!-- Specific Gravity Calculator -->
            <div class="calc-section">
                <h2>Specific Gravity from Ingredients</h2>
                <div class="input-group">
                    <label for="batch-size" id="batch-label">Batch Size (gallons):</label>
                    <input type="number" id="batch-size" step="0.1" min="0.1" max="50" value="1" placeholder="1">
                </div>
                <div class="input-group honey-input">
                    <label for="honey-amount" id="honey-label">Honey (lbs):</label>
                    <div class="weight-input-container">
                        <input type="number" id="honey-amount" step="1" min="0" placeholder="3">
                        <input type="number" id="honey-oz" step="0.1" min="0" max="15.9" placeholder="0" class="oz-input" style="display:none;">
                    </div>
                    <small id="honey-conversion" class="conversion-display"></small>
                </div>
                <div class="input-group">
                    <label for="fruit-type">Fruit/Sweetener:</label>
                    <select id="fruit-type">
                        <option value="">Select fruit or sweetener...</option>
                        <option value="apple">Apple (fresh)</option>
                        <option value="apple-juice">Apple Juice</option>
                        <option value="blackberry">Blackberry</option>
                        <option value="blueberry">Blueberry</option>
                        <option value="cherry">Cherry (sweet)</option>
                        <option value="cherry-tart">Cherry (tart)</option>
                        <option value="cranberry">Cranberry</option>
                        <option value="grape">Grape (fresh)</option>
                        <option value="grape-juice">Grape Juice</option>
                        <option value="orange">Orange</option>
                        <option value="orange-juice">Orange Juice</option>
                        <option value="peach">Peach</option>
                        <option value="pear">Pear</option>
                        <option value="raspberry">Raspberry</option>
                        <option value="strawberry">Strawberry</option>
                        <option value="elderberry">Elderberry</option>
                        <option value="elderflower">Elderflower</option>
                        <option value="cane-sugar">Cane Sugar</option>
                        <option value="brown-sugar">Brown Sugar</option>
                        <option value="maple-syrup">Maple Syrup</option>
                        <option value="agave">Agave Nectar</option>
                    </select>
                </div>
                <div class="input-group fruit-input">
                    <label for="fruit-amount" id="fruit-label">Amount (lbs):</label>
                    <div class="weight-input-container">
                        <input type="number" id="fruit-amount" step="1" min="0" placeholder="2">
                        <input type="number" id="fruit-oz" step="0.1" min="0" max="15.9" placeholder="0" class="oz-input" style="display:none;">
                    </div>
                    <small id="fruit-conversion" class="conversion-display"></small>
                </div>
                <div class="result" id="sg-result"></div>
            </div>

            <!-- Target ABV Calculator -->
            <div class="calc-section">
                <h2>Calculate Ingredients for Target ABV</h2>
                <div class="input-group">
                    <label for="target-abv">Target ABV (%):</label>
                    <input type="number" id="target-abv" step="0.1" min="0" max="20" placeholder="12">
                </div>
                <div class="input-group">
                    <label for="target-batch-size" id="target-batch-label">Batch Size (gallons):</label>
                    <input type="number" id="target-batch-size" step="0.1" min="0.1" max="50" value="1" placeholder="1">
                </div>
                <div class="ingredients-section">
                    <h3>Fermentable Ingredients</h3>
                    <div id="ingredients-list">
                        <!-- Dynamic ingredient inputs will be added here -->
                    </div>
                    <div class="ingredient-controls">
                        <button type="button" id="add-ingredient-btn" class="add-btn">+ Add Ingredient</button>
                        <div class="total-percentage">
                            <span>Total: </span><span id="total-percentage">0</span>%
                        </div>
                    </div>
                </div>
                <div class="result" id="ingredients-result"></div>
            </div>

            <!-- Quick Reference -->
            <div class="calc-section">
                <h2>Quick Reference</h2>
                <div class="reference-content">
                    <div class="collapsible-section">
                        <h3 class="collapsible-header" onclick="toggleSection('specific-gravity')">
                            <span class="toggle-icon">‚ñ∂</span> Specific Gravity Ranges
                        </h3>
                        <div class="collapsible-content" id="specific-gravity">
                            <ul>
                                <li><strong>Light:</strong> 1.035-1.050 OG</li>
                                <li><strong>Medium:</strong> 1.051-1.070 OG</li>
                                <li><strong>Strong:</strong> 1.071-1.130+ OG</li>
                            </ul>
                        </div>
                    </div>

                    <div class="collapsible-section">
                        <h3 class="collapsible-header" onclick="toggleSection('honey-guidelines')">
                            <span class="toggle-icon">‚ñ∂</span> Honey Guidelines
                        </h3>
                        <div class="collapsible-content" id="honey-guidelines">
                            <ul>
                                <li><strong>Light Mead:</strong> 2-2.5 lbs honey per gallon</li>
                                <li><strong>Medium Mead:</strong> 3-3.5 lbs honey per gallon</li>
                                <li><strong>Strong Mead:</strong> 4+ lbs honey per gallon</li>
                            </ul>
                        </div>
                    </div>

                    <div class="collapsible-section">
                        <h3 class="collapsible-header" onclick="toggleSection('abv-types')">
                            <span class="toggle-icon">‚ñ∂</span> Common Mead Types by ABV
                        </h3>
                        <div class="collapsible-content" id="abv-types">
                            <ul>
                                <li><strong>Session Mead:</strong> 3-7% ABV</li>
                                <li><strong>Traditional Mead:</strong> 8-15% ABV</li>
                                <li><strong>Sack Mead:</strong> 14-20% ABV</li>
                            </ul>
                        </div>
                    </div>

                    <div class="collapsible-section">
                        <h3 class="collapsible-header" onclick="toggleSection('traditional-types')">
                            <span class="toggle-icon">‚ñ∂</span> Traditional Mead Types
                        </h3>
                        <div class="collapsible-content" id="traditional-types">
                            <ul>
                                <li><strong>Traditional:</strong> Honey and water only</li>
                                <li><strong>Melomel:</strong> Honey with fruit</li>
                                <li><strong>Cyser:</strong> Honey with apples or apple juice</li>
                                <li><strong>Pyment:</strong> Honey with grapes or grape juice</li>
                                <li><strong>Metheglin:</strong> Honey with herbs and/or spices</li>
                                <li><strong>Braggot:</strong> Honey with malt (beer-mead hybrid)</li>
                                <li><strong>Acerglyn:</strong> Honey with maple syrup</li>
                                <li><strong>Bochet:</strong> Made with caramelized/burned honey</li>
                                <li><strong>Capsicumel:</strong> Honey with peppers/chiles</li>
                                <li><strong>Hippocras:</strong> Pyment with herbs and spices</li>
                                <li><strong>Oxymela:</strong> Honey with vinegar (historical)</li>
                                <li><strong>Rhodomel:</strong> Honey with rose petals/hips</li>
                                <li><strong>Morat:</strong> Honey with mulberries</li>
                                <li><strong>Omphacomel:</strong> Honey with verjuice (unripe grapes)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="calculator.js"></script>
</body>
</html>